package pageObjects;

import java.time.Duration;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class FundTransferFuturePaymentPage_TC10 {

    WebDriver driver;
    WebDriverWait wait;

    public FundTransferFuturePaymentPage_TC10(WebDriver driver) {
        this.driver = driver;
        wait = new WebDriverWait(driver, Duration.ofSeconds(15));
        PageFactory.initElements(driver, this);
    }

  

	// ✅ Pay Bills Tab
    @FindBy(id = "pay_bills_tab")
    private WebElement payBillsTab;

    // ✅ Payee Dropdown
    @FindBy(id = "sp_payee")
    private WebElement payeeDropdown;

    // ✅ Amount Input Field
    @FindBy(id = "sp_amount")
    private WebElement amountInput;

    // ✅ Date Input Field
    @FindBy(id = "sp_date")
    private WebElement dateInput;

    // ✅ Pay Button
    @FindBy(id = "pay_saved_payees")
    private WebElement payButton;

    // ✅ Success Message
    @FindBy(xpath = "//div[contains(@class, 'alert-success')]")
    private WebElement successMessage;

    public void navigateToPayBills() {
        wait.until(ExpectedConditions.elementToBeClickable(payBillsTab)).click();
    }

    public void selectPayee() {
        wait.until(ExpectedConditions.elementToBeClickable(payeeDropdown)).sendKeys("1");  // Select first payee
    }

    public void enterAmount(String amount) {
        wait.until(ExpectedConditions.visibilityOf(amountInput)).sendKeys(amount);
    }

    public void enterDate(String date) {
        wait.until(ExpectedConditions.visibilityOf(dateInput)).sendKeys(date);
    }

    public void clickPay() {
        wait.until(ExpectedConditions.elementToBeClickable(payButton)).click();
    }

    public String getSuccessMessage() {
        WebElement successMsg = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//div[contains(@class, 'alert-success')]")));
        return successMsg.getText();
    }
}
